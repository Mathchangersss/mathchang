<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberGeometry - Game Matematika Cyberpunk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');
        
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-purple: #9d00ff;
            --dark-bg: #0a0a1a;
            --cyber-grid: #1a1a3a;
        }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: var(--dark-bg);
            background-image: 
                linear-gradient(0deg, transparent 24%, rgba(0, 243, 255, 0.05) 25%, rgba(0, 243, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(0, 243, 255, 0.05) 75%, rgba(0, 243, 255, 0.05) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(0, 243, 255, 0.05) 25%, rgba(0, 243, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(0, 243, 255, 0.05) 75%, rgba(0, 243, 255, 0.05) 76%, transparent 77%, transparent);
            background-size: 50px 50px;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6, .cyber-text {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
        }
        
        .cyber-panel {
            background-color: rgba(10, 10, 26, 0.8);
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 10px var(--neon-blue), inset 0 0 5px var(--neon-blue);
            position: relative;
            overflow: hidden;
        }
        
        .cyber-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 2px;
            background-color: var(--neon-blue);
            animation: cyber-scan 3s linear infinite;
        }
        
        @keyframes cyber-scan {
            0% {
                left: -100%;
            }
            100% {
                left: 200%;
            }
        }
        
        .neon-text {
            text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue);
        }
        
        .neon-pink {
            color: var(--neon-pink);
            text-shadow: 0 0 5px var(--neon-pink), 0 0 10px var(--neon-pink);
        }
        
        .neon-blue {
            color: var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue);
        }
        
        .neon-purple {
            color: var(--neon-purple);
            text-shadow: 0 0 5px var(--neon-purple), 0 0 10px var(--neon-purple);
        }
        
        .cyber-btn {
            position: relative;
            background: linear-gradient(45deg, rgba(0, 243, 255, 0.2), rgba(157, 0, 255, 0.2));
            border: 1px solid var(--neon-blue);
            color: white;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .cyber-btn:hover {
            background: linear-gradient(45deg, rgba(0, 243, 255, 0.4), rgba(157, 0, 255, 0.4));
            box-shadow: 0 0 10px var(--neon-blue);
        }
        
        .cyber-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.6s;
        }
        
        .cyber-btn:hover::before {
            left: 100%;
        }
        
        .shape-container {
            position: relative;
            width: 100%;
            height: 200px;
        }
        
        .shape {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .option {
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px var(--neon-blue);
        }
        
        .progress-bar {
            height: 10px;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            transition: width 0.5s;
        }
        
        .glitch {
            animation: glitch 1s linear infinite;
            position: relative;
        }
        
        @keyframes glitch {
            2%, 64% {
                transform: translate(2px, 0) skew(0deg);
            }
            4%, 60% {
                transform: translate(-2px, 0) skew(0deg);
            }
            62% {
                transform: translate(0, 0) skew(5deg);
            }
        }
        
        .glitch:before,
        .glitch:after {
            content: attr(title);
            position: absolute;
            left: 0;
        }
        
        .glitch:before {
            animation: glitchTop 1s linear infinite;
            clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
            -webkit-clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
        }
        
        @keyframes glitchTop {
            2%, 64% {
                transform: translate(2px, -2px);
            }
            4%, 60% {
                transform: translate(-2px, 2px);
            }
            62% {
                transform: translate(13px, -1px) skew(-13deg);
            }
        }
        
        .glitch:after {
            animation: glitchBottom 1.5s linear infinite;
            clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
            -webkit-clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
        }
        
        @keyframes glitchBottom {
            2%, 64% {
                transform: translate(-2px, 0);
            }
            4%, 60% {
                transform: translate(-2px, 0);
            }
            62% {
                transform: translate(-22px, 5px) skew(21deg);
            }
        }
        
        .modal {
            background-color: rgba(10, 10, 26, 0.95);
            backdrop-filter: blur(5px);
        }
        
        .score-pulse {
            animation: scorePulse 0.5s;
        }
        
        @keyframes scorePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="p-4">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <header class="cyber-panel rounded-lg p-4 mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-center glitch neon-blue" title="CyberGeometry">CyberGeometry</h1>
            <p class="text-center text-gray-300 mt-2">Tantangan Geometri di Dunia Cyberpunk</p>
        </header>
        
        <!-- Game Container -->
        <div class="cyber-panel rounded-lg p-6 mb-6">
            <!-- Game Stats -->
            <div class="flex flex-wrap justify-between items-center mb-6">
                <div>
                    <p class="text-sm text-gray-400">LEVEL</p>
                    <p id="level" class="text-2xl neon-blue">1</p>
                </div>
                <div>
                    <p class="text-sm text-gray-400">SKOR</p>
                    <p id="score" class="text-2xl neon-pink">0</p>
                </div>
                <div>
                    <p class="text-sm text-gray-400">WAKTU</p>
                    <p id="timer" class="text-2xl neon-purple">30</p>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="w-full bg-gray-800 rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="progress-bar rounded-full" style="width: 100%"></div>
            </div>
            
            <!-- Question Area -->
            <div id="question-container" class="mb-6">
                <h2 class="text-xl md:text-2xl font-semibold mb-4 neon-text">Identifikasi Bentuk Geometri</h2>
                <div class="shape-container bg-gray-900 rounded-lg mb-4" id="shape-display">
                    <!-- Shape will be rendered here -->
                </div>
                <p id="question-text" class="text-lg mb-4">Apa nama bentuk geometri di atas?</p>
            </div>
            
            <!-- Options Area -->
            <div id="options-container" class="grid grid-cols-2 gap-4">
                <!-- Options will be generated here -->
            </div>
        </div>
        
        <!-- Controls -->
        <div class="flex justify-between">
            <button id="start-btn" class="cyber-btn py-2 px-6 rounded-lg">Mulai Game</button>
            <button id="help-btn" class="cyber-btn py-2 px-6 rounded-lg">Bantuan</button>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="help-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="modal-overlay absolute inset-0 bg-black opacity-75"></div>
        <div class="modal relative cyber-panel rounded-lg p-6 max-w-lg w-full mx-4">
            <h2 class="text-2xl font-bold mb-4 neon-blue">Cara Bermain</h2>
            <ul class="list-disc pl-6 space-y-2 mb-6">
                <li>Identifikasi bentuk geometri yang ditampilkan</li>
                <li>Pilih jawaban yang benar dari opsi yang tersedia</li>
                <li>Jawaban benar akan menambah skor Anda</li>
                <li>Jawaban salah akan mengurangi waktu</li>
                <li>Selesaikan level untuk membuka tantangan baru</li>
                <li>Setiap level memiliki bentuk geometri yang lebih kompleks</li>
            </ul>
            <h3 class="text-xl font-bold mb-2 neon-pink">Bentuk Geometri</h3>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-gray-900 p-3 rounded-lg">
                    <p class="font-semibold mb-1">Level 1</p>
                    <p>Bentuk dasar 2D: persegi, segitiga, lingkaran, dll.</p>
                </div>
                <div class="bg-gray-900 p-3 rounded-lg">
                    <p class="font-semibold mb-1">Level 2</p>
                    <p>Bentuk 2D kompleks: trapesium, jajar genjang, dll.</p>
                </div>
                <div class="bg-gray-900 p-3 rounded-lg">
                    <p class="font-semibold mb-1">Level 3</p>
                    <p>Bentuk 3D dasar: kubus, bola, silinder, dll.</p>
                </div>
                <div class="bg-gray-900 p-3 rounded-lg">
                    <p class="font-semibold mb-1">Level 4</p>
                    <p>Bentuk 3D kompleks: prisma, limas, dll.</p>
                </div>
            </div>
            <button id="close-help" class="cyber-btn py-2 px-6 rounded-lg w-full">Tutup</button>
        </div>
    </div>
    
    <!-- Game Over Modal -->
    <div id="game-over-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="modal-overlay absolute inset-0 bg-black opacity-75"></div>
        <div class="modal relative cyber-panel rounded-lg p-6 max-w-lg w-full mx-4">
            <h2 class="text-2xl font-bold mb-2 neon-pink glitch" title="Game Over">Game Over</h2>
            <p class="mb-4">Skor akhir Anda:</p>
            <p id="final-score" class="text-4xl font-bold mb-6 neon-blue">0</p>
            
            <div class="mb-6">
                <h3 class="text-xl font-bold mb-2 neon-purple">Statistik</h3>
                <div class="bg-gray-900 p-4 rounded-lg">
                    <div class="flex justify-between mb-2">
                        <span>Level tercapai:</span>
                        <span id="final-level">1</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Jawaban benar:</span>
                        <span id="correct-answers">0</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Jawaban salah:</span>
                        <span id="wrong-answers">0</span>
                    </div>
                </div>
            </div>
            
            <div class="flex space-x-4">
                <button id="play-again" class="cyber-btn py-2 px-6 rounded-lg flex-1">Main Lagi</button>
                <button id="share-score" class="cyber-btn py-2 px-6 rounded-lg flex-1">Bagikan Skor</button>
            </div>
        </div>
    </div>
    
    <!-- Level Up Modal -->
    <div id="level-up-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="modal-overlay absolute inset-0 bg-black opacity-75"></div>
        <div class="modal relative cyber-panel rounded-lg p-6 max-w-lg w-full mx-4">
            <h2 class="text-2xl font-bold mb-2 neon-blue">Level Naik!</h2>
            <p class="mb-4">Selamat! Anda telah mencapai:</p>
            <p id="new-level" class="text-4xl font-bold mb-6 neon-purple">Level 2</p>
            
            <div class="mb-6">
                <h3 class="text-xl font-bold mb-2 neon-pink">Tantangan Baru</h3>
                <p id="level-description" class="bg-gray-900 p-4 rounded-lg">
                    Bentuk geometri yang lebih kompleks akan muncul. Bersiaplah!
                </p>
            </div>
            
            <button id="continue-game" class="cyber-btn py-2 px-6 rounded-lg w-full">Lanjutkan</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game elements
            const startBtn = document.getElementById('start-btn');
            const helpBtn = document.getElementById('help-btn');
            const closeHelpBtn = document.getElementById('close-help');
            const helpModal = document.getElementById('help-modal');
            const gameOverModal = document.getElementById('game-over-modal');
            const levelUpModal = document.getElementById('level-up-modal');
            const playAgainBtn = document.getElementById('play-again');
            const shareScoreBtn = document.getElementById('share-score');
            const continueGameBtn = document.getElementById('continue-game');
            
            const levelElement = document.getElementById('level');
            const scoreElement = document.getElementById('score');
            const timerElement = document.getElementById('timer');
            const progressBar = document.getElementById('progress-bar');
            const questionContainer = document.getElementById('question-container');
            const shapeDisplay = document.getElementById('shape-display');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            
            const finalScoreElement = document.getElementById('final-score');
            const finalLevelElement = document.getElementById('final-level');
            const correctAnswersElement = document.getElementById('correct-answers');
            const wrongAnswersElement = document.getElementById('wrong-answers');
            const newLevelElement = document.getElementById('new-level');
            const levelDescriptionElement = document.getElementById('level-description');
            
            // Game state
            let gameActive = false;
            let currentLevel = 1;
            let score = 0;
            let timeLeft = 30;
            let timer;
            let correctAnswers = 0;
            let wrongAnswers = 0;
            let questionsPerLevel = 5;
            let questionsAnswered = 0;
            
            // Game data
            const shapes = {
                level1: [
                    { name: 'Persegi', svgPath: 'M50,50 L150,50 L150,150 L50,150 Z', options: ['Persegi', 'Segitiga', 'Lingkaran', 'Persegi Panjang'] },
                    { name: 'Segitiga', svgPath: 'M100,30 L170,150 L30,150 Z', options: ['Segitiga', 'Persegi', 'Jajar Genjang', 'Trapesium'] },
                    { name: 'Lingkaran', svgPath: '', circle: true, options: ['Lingkaran', 'Elips', 'Persegi', 'Segitiga'] },
                    { name: 'Persegi Panjang', svgPath: 'M40,70 L160,70 L160,130 L40,130 Z', options: ['Persegi Panjang', 'Persegi', 'Jajar Genjang', 'Trapesium'] },
                    { name: 'Belah Ketupat', svgPath: 'M100,30 L160,100 L100,170 L40,100 Z', options: ['Belah Ketupat', 'Persegi', 'Segitiga', 'Jajar Genjang'] }
                ],
                level2: [
                    { name: 'Trapesium', svgPath: 'M60,60 L140,60 L170,140 L30,140 Z', options: ['Trapesium', 'Jajar Genjang', 'Segitiga', 'Belah Ketupat'] },
                    { name: 'Jajar Genjang', svgPath: 'M50,70 L150,70 L130,130 L30,130 Z', options: ['Jajar Genjang', 'Persegi Panjang', 'Trapesium', 'Belah Ketupat'] },
                    { name: 'Segi Lima', svgPath: 'M100,30 L160,60 L140,130 L60,130 L40,60 Z', options: ['Segi Lima', 'Segi Enam', 'Trapesium', 'Belah Ketupat'] },
                    { name: 'Segi Enam', svgPath: 'M100,30 L150,50 L150,100 L100,130 L50,100 L50,50 Z', options: ['Segi Enam', 'Segi Lima', 'Jajar Genjang', 'Belah Ketupat'] },
                    { name: 'Elips', svgPath: '', ellipse: true, options: ['Elips', 'Lingkaran', 'Oval', 'Lensa'] }
                ],
                level3: [
                    { name: 'Kubus', svgPath: 'M60,60 L140,60 L140,140 L60,140 Z M60,60 L80,40 L160,40 L140,60 Z M140,60 L160,40 L160,120 L140,140 Z', options: ['Kubus', 'Balok', 'Limas', 'Prisma'] },
                    { name: 'Balok', svgPath: 'M40,70 L140,70 L140,130 L40,130 Z M40,70 L60,50 L160,50 L140,70 Z M140,70 L160,50 L160,110 L140,130 Z', options: ['Balok', 'Kubus', 'Prisma', 'Tabung'] },
                    { name: 'Silinder', cylinderSvg: true, options: ['Silinder', 'Kerucut', 'Tabung', 'Bola'] },
                    { name: 'Kerucut', coneSvg: true, options: ['Kerucut', 'Limas', 'Silinder', 'Prisma'] },
                    { name: 'Bola', sphereSvg: true, options: ['Bola', 'Lingkaran', 'Elips', 'Silinder'] }
                ],
                level4: [
                    { name: 'Prisma Segitiga', prismSvg: true, options: ['Prisma Segitiga', 'Limas Segitiga', 'Kubus', 'Balok'] },
                    { name: 'Limas Segiempat', pyramidSvg: true, options: ['Limas Segiempat', 'Prisma Segitiga', 'Kubus', 'Kerucut'] },
                    { name: 'Oktahedron', octahedronSvg: true, options: ['Oktahedron', 'Tetrahedron', 'Dodecahedron', 'Icosahedron'] },
                    { name: 'Dodecahedron', dodecahedronSvg: true, options: ['Dodecahedron', 'Oktahedron', 'Icosahedron', 'Tetrahedron'] },
                    { name: 'Torus', torusSvg: true, options: ['Torus', 'Bola', 'Silinder', 'Elipsoid'] }
                ]
            };
            
            // Helper functions
            function shuffleArray(array) {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            }
            
            function getRandomShape() {
                const levelShapes = shapes[`level${currentLevel}`];
                return levelShapes[Math.floor(Math.random() * levelShapes.length)];
            }
            
            function renderShape(shape) {
                shapeDisplay.innerHTML = '';
                
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                svg.setAttribute('width', '100%');
                svg.setAttribute('height', '100%');
                svg.setAttribute('viewBox', '0 0 200 200');
                svg.classList.add('shape');
                
                if (shape.circle) {
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('cx', '100');
                    circle.setAttribute('cy', '100');
                    circle.setAttribute('r', '70');
                    circle.setAttribute('fill', 'none');
                    circle.setAttribute('stroke', 'var(--neon-blue)');
                    circle.setAttribute('stroke-width', '3');
                    svg.appendChild(circle);
                } else if (shape.ellipse) {
                    const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse.setAttribute('cx', '100');
                    ellipse.setAttribute('cy', '100');
                    ellipse.setAttribute('rx', '80');
                    ellipse.setAttribute('ry', '50');
                    ellipse.setAttribute('fill', 'none');
                    ellipse.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse.setAttribute('stroke-width', '3');
                    svg.appendChild(ellipse);
                } else if (shape.cylinderSvg) {
                    // Simple cylinder
                    const ellipse1 = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse1.setAttribute('cx', '100');
                    ellipse1.setAttribute('cy', '60');
                    ellipse1.setAttribute('rx', '50');
                    ellipse1.setAttribute('ry', '20');
                    ellipse1.setAttribute('fill', 'none');
                    ellipse1.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse1.setAttribute('stroke-width', '3');
                    
                    const ellipse2 = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse2.setAttribute('cx', '100');
                    ellipse2.setAttribute('cy', '140');
                    ellipse2.setAttribute('rx', '50');
                    ellipse2.setAttribute('ry', '20');
                    ellipse2.setAttribute('fill', 'none');
                    ellipse2.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse2.setAttribute('stroke-width', '3');
                    
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '50');
                    line1.setAttribute('y1', '60');
                    line1.setAttribute('x2', '50');
                    line1.setAttribute('y2', '140');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '150');
                    line2.setAttribute('y1', '60');
                    line2.setAttribute('x2', '150');
                    line2.setAttribute('y2', '140');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(ellipse1);
                    svg.appendChild(ellipse2);
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                } else if (shape.coneSvg) {
                    // Simple cone
                    const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse.setAttribute('cx', '100');
                    ellipse.setAttribute('cy', '140');
                    ellipse.setAttribute('rx', '60');
                    ellipse.setAttribute('ry', '20');
                    ellipse.setAttribute('fill', 'none');
                    ellipse.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse.setAttribute('stroke-width', '3');
                    
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '100');
                    line1.setAttribute('y1', '40');
                    line1.setAttribute('x2', '40');
                    line1.setAttribute('y2', '140');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '100');
                    line2.setAttribute('y1', '40');
                    line2.setAttribute('x2', '160');
                    line2.setAttribute('y2', '140');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(ellipse);
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                } else if (shape.sphereSvg) {
                    // Simple sphere
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('cx', '100');
                    circle.setAttribute('cy', '100');
                    circle.setAttribute('r', '70');
                    circle.setAttribute('fill', 'none');
                    circle.setAttribute('stroke', 'var(--neon-blue)');
                    circle.setAttribute('stroke-width', '3');
                    
                    const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse.setAttribute('cx', '100');
                    ellipse.setAttribute('cy', '100');
                    ellipse.setAttribute('rx', '70');
                    ellipse.setAttribute('ry', '30');
                    ellipse.setAttribute('fill', 'none');
                    ellipse.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse.setAttribute('stroke-width', '2');
                    
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    line.setAttribute('d', 'M100,30 C130,50 130,150 100,170 C70,150 70,50 100,30');
                    line.setAttribute('fill', 'none');
                    line.setAttribute('stroke', 'var(--neon-blue)');
                    line.setAttribute('stroke-width', '2');
                    
                    svg.appendChild(circle);
                    svg.appendChild(ellipse);
                    svg.appendChild(line);
                } else if (shape.prismSvg) {
                    // Simple triangular prism
                    const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path1.setAttribute('d', 'M60,140 L140,140 L100,60 Z');
                    path1.setAttribute('fill', 'none');
                    path1.setAttribute('stroke', 'var(--neon-blue)');
                    path1.setAttribute('stroke-width', '3');
                    
                    const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path2.setAttribute('d', 'M80,120 L160,120 L120,40 Z');
                    path2.setAttribute('fill', 'none');
                    path2.setAttribute('stroke', 'var(--neon-blue)');
                    path2.setAttribute('stroke-width', '3');
                    
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '60');
                    line1.setAttribute('y1', '140');
                    line1.setAttribute('x2', '80');
                    line1.setAttribute('y2', '120');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '140');
                    line2.setAttribute('y1', '140');
                    line2.setAttribute('x2', '160');
                    line2.setAttribute('y2', '120');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    const line3 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line3.setAttribute('x1', '100');
                    line3.setAttribute('y1', '60');
                    line3.setAttribute('x2', '120');
                    line3.setAttribute('y2', '40');
                    line3.setAttribute('stroke', 'var(--neon-blue)');
                    line3.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(path1);
                    svg.appendChild(path2);
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                    svg.appendChild(line3);
                } else if (shape.pyramidSvg) {
                    // Simple square pyramid
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path.setAttribute('d', 'M60,140 L140,140 L140,60 L60,60 Z');
                    path.setAttribute('fill', 'none');
                    path.setAttribute('stroke', 'var(--neon-blue)');
                    path.setAttribute('stroke-width', '3');
                    
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '60');
                    line1.setAttribute('y1', '60');
                    line1.setAttribute('x2', '100');
                    line1.setAttribute('y2', '30');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '140');
                    line2.setAttribute('y1', '60');
                    line2.setAttribute('x2', '100');
                    line2.setAttribute('y2', '30');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    const line3 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line3.setAttribute('x1', '60');
                    line3.setAttribute('y1', '140');
                    line3.setAttribute('x2', '100');
                    line3.setAttribute('y2', '30');
                    line3.setAttribute('stroke', 'var(--neon-blue)');
                    line3.setAttribute('stroke-width', '3');
                    
                    const line4 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line4.setAttribute('x1', '140');
                    line4.setAttribute('y1', '140');
                    line4.setAttribute('x2', '100');
                    line4.setAttribute('y2', '30');
                    line4.setAttribute('stroke', 'var(--neon-blue)');
                    line4.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(path);
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                    svg.appendChild(line3);
                    svg.appendChild(line4);
                } else if (shape.octahedronSvg) {
                    // Simple octahedron
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '100');
                    line1.setAttribute('y1', '30');
                    line1.setAttribute('x2', '150');
                    line1.setAttribute('y2', '100');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '100');
                    line2.setAttribute('y1', '30');
                    line2.setAttribute('x2', '50');
                    line2.setAttribute('y2', '100');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    const line3 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line3.setAttribute('x1', '100');
                    line3.setAttribute('y1', '30');
                    line3.setAttribute('x2', '100');
                    line3.setAttribute('y2', '100');
                    line3.setAttribute('stroke', 'var(--neon-blue)');
                    line3.setAttribute('stroke-width', '3');
                    
                    const line4 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line4.setAttribute('x1', '100');
                    line4.setAttribute('y1', '170');
                    line4.setAttribute('x2', '150');
                    line4.setAttribute('y2', '100');
                    line4.setAttribute('stroke', 'var(--neon-blue)');
                    line4.setAttribute('stroke-width', '3');
                    
                    const line5 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line5.setAttribute('x1', '100');
                    line5.setAttribute('y1', '170');
                    line5.setAttribute('x2', '50');
                    line5.setAttribute('y2', '100');
                    line5.setAttribute('stroke', 'var(--neon-blue)');
                    line5.setAttribute('stroke-width', '3');
                    
                    const line6 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line6.setAttribute('x1', '100');
                    line6.setAttribute('y1', '170');
                    line6.setAttribute('x2', '100');
                    line6.setAttribute('y2', '100');
                    line6.setAttribute('stroke', 'var(--neon-blue)');
                    line6.setAttribute('stroke-width', '3');
                    
                    const line7 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line7.setAttribute('x1', '50');
                    line7.setAttribute('y1', '100');
                    line7.setAttribute('x2', '150');
                    line7.setAttribute('y2', '100');
                    line7.setAttribute('stroke', 'var(--neon-blue)');
                    line7.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                    svg.appendChild(line3);
                    svg.appendChild(line4);
                    svg.appendChild(line5);
                    svg.appendChild(line6);
                    svg.appendChild(line7);
                } else if (shape.dodecahedronSvg) {
                    // Simplified dodecahedron (pentagon-based)
                    const pentagon1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    pentagon1.setAttribute('d', 'M100,50 L130,65 L120,95 L80,95 L70,65 Z');
                    pentagon1.setAttribute('fill', 'none');
                    pentagon1.setAttribute('stroke', 'var(--neon-blue)');
                    pentagon1.setAttribute('stroke-width', '3');
                    
                    const pentagon2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    pentagon2.setAttribute('d', 'M100,150 L130,135 L120,105 L80,105 L70,135 Z');
                    pentagon2.setAttribute('fill', 'none');
                    pentagon2.setAttribute('stroke', 'var(--neon-blue)');
                    pentagon2.setAttribute('stroke-width', '3');
                    
                    const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line1.setAttribute('x1', '70');
                    line1.setAttribute('y1', '65');
                    line1.setAttribute('x2', '70');
                    line1.setAttribute('y2', '135');
                    line1.setAttribute('stroke', 'var(--neon-blue)');
                    line1.setAttribute('stroke-width', '3');
                    
                    const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line2.setAttribute('x1', '130');
                    line2.setAttribute('y1', '65');
                    line2.setAttribute('x2', '130');
                    line2.setAttribute('y2', '135');
                    line2.setAttribute('stroke', 'var(--neon-blue)');
                    line2.setAttribute('stroke-width', '3');
                    
                    const line3 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line3.setAttribute('x1', '80');
                    line3.setAttribute('y1', '95');
                    line3.setAttribute('x2', '80');
                    line3.setAttribute('y2', '105');
                    line3.setAttribute('stroke', 'var(--neon-blue)');
                    line3.setAttribute('stroke-width', '3');
                    
                    const line4 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line4.setAttribute('x1', '120');
                    line4.setAttribute('y1', '95');
                    line4.setAttribute('x2', '120');
                    line4.setAttribute('y2', '105');
                    line4.setAttribute('stroke', 'var(--neon-blue)');
                    line4.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(pentagon1);
                    svg.appendChild(pentagon2);
                    svg.appendChild(line1);
                    svg.appendChild(line2);
                    svg.appendChild(line3);
                    svg.appendChild(line4);
                } else if (shape.torusSvg) {
                    // Simple torus (donut)
                    const ellipse1 = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse1.setAttribute('cx', '100');
                    ellipse1.setAttribute('cy', '100');
                    ellipse1.setAttribute('rx', '70');
                    ellipse1.setAttribute('ry', '30');
                    ellipse1.setAttribute('fill', 'none');
                    ellipse1.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse1.setAttribute('stroke-width', '3');
                    
                    const ellipse2 = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                    ellipse2.setAttribute('cx', '100');
                    ellipse2.setAttribute('cy', '100');
                    ellipse2.setAttribute('rx', '40');
                    ellipse2.setAttribute('ry', '15');
                    ellipse2.setAttribute('fill', 'none');
                    ellipse2.setAttribute('stroke', 'var(--neon-blue)');
                    ellipse2.setAttribute('stroke-width', '3');
                    
                    const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path1.setAttribute('d', 'M30,100 C30,115 170,115 170,100');
                    path1.setAttribute('fill', 'none');
                    path1.setAttribute('stroke', 'var(--neon-blue)');
                    path1.setAttribute('stroke-width', '2');
                    path1.setAttribute('stroke-dasharray', '5,5');
                    
                    const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path2.setAttribute('d', 'M30,100 C30,85 170,85 170,100');
                    path2.setAttribute('fill', 'none');
                    path2.setAttribute('stroke', 'var(--neon-blue)');
                    path2.setAttribute('stroke-width', '3');
                    
                    svg.appendChild(ellipse1);
                    svg.appendChild(ellipse2);
                    svg.appendChild(path1);
                    svg.appendChild(path2);
                } else {
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path.setAttribute('d', shape.svgPath);
                    path.setAttribute('fill', 'none');
                    path.setAttribute('stroke', 'var(--neon-blue)');
                    path.setAttribute('stroke-width', '3');
                    svg.appendChild(path);
                }
                
                shapeDisplay.appendChild(svg);
            }
            
            function renderOptions(shape) {
                optionsContainer.innerHTML = '';
                
                const shuffledOptions = shuffleArray(shape.options);
                
                shuffledOptions.forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option cyber-panel rounded-lg p-4 text-center cursor-pointer';
                    optionElement.textContent = option;
                    
                    optionElement.addEventListener('click', () => {
                        checkAnswer(option, shape.name);
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
            }
            
            function checkAnswer(selectedOption, correctOption) {
                if (!gameActive) return;
                
                const options = document.querySelectorAll('.option');
                options.forEach(option => {
                    option.classList.add('pointer-events-none');
                    
                    if (option.textContent === correctOption) {
                        option.classList.add('bg-green-900', 'border-green-500');
                        option.style.boxShadow = '0 0 10px #00ff00';
                    } else if (option.textContent === selectedOption && selectedOption !== correctOption) {
                        option.classList.add('bg-red-900', 'border-red-500');
                        option.style.boxShadow = '0 0 10px #ff0000';
                    }
                });
                
                if (selectedOption === correctOption) {
                    // Correct answer
                    score += currentLevel * 10;
                    scoreElement.textContent = score;
                    scoreElement.classList.add('score-pulse');
                    setTimeout(() => {
                        scoreElement.classList.remove('score-pulse');
                    }, 500);
                    correctAnswers++;
                } else {
                    // Wrong answer
                    timeLeft = Math.max(timeLeft - 5, 1);
                    timerElement.textContent = timeLeft;
                    timerElement.classList.add('neon-pink');
                    setTimeout(() => {
                        timerElement.classList.remove('neon-pink');
                        timerElement.classList.add('neon-purple');
                    }, 1000);
                    wrongAnswers++;
                }
                
                questionsAnswered++;
                
                // Check if level completed
                if (questionsAnswered >= questionsPerLevel) {
                    levelUp();
                } else {
                    // Next question after delay
                    setTimeout(() => {
                        nextQuestion();
                    }, 1500);
                }
            }
            
            function nextQuestion() {
                const currentShape = getRandomShape();
                renderShape(currentShape);
                renderOptions(currentShape);
            }
            
            function levelUp() {
                if (currentLevel < 4) {
                    currentLevel++;
                    levelElement.textContent = currentLevel;
                    questionsAnswered = 0;
                    
                    // Show level up modal
                    newLevelElement.textContent = `Level ${currentLevel}`;
                    
                    const levelDescriptions = [
                        "",
                        "Bentuk dasar 2D: persegi, segitiga, lingkaran, dll.",
                        "Bentuk 2D kompleks: trapesium, jajar genjang, dll.",
                        "Bentuk 3D dasar: kubus, bola, silinder, dll.",
                        "Bentuk 3D kompleks: prisma, limas, dll."
                    ];
                    
                    levelDescriptionElement.textContent = levelDescriptions[currentLevel];
                    
                    // Pause the timer
                    clearInterval(timer);
                    
                    // Show level up modal
                    levelUpModal.classList.remove('hidden');
                    
                    // Add time bonus
                    timeLeft += 15;
                    if (timeLeft > 60) timeLeft = 60;
                } else {
                    // Game completed
                    endGame();
                }
            }
            
            function startGame() {
                gameActive = true;
                currentLevel = 1;
                score = 0;
                timeLeft = 30;
                correctAnswers = 0;
                wrongAnswers = 0;
                questionsAnswered = 0;
                
                levelElement.textContent = currentLevel;
                scoreElement.textContent = score;
                timerElement.textContent = timeLeft;
                progressBar.style.width = '100%';
                
                startBtn.textContent = 'Mulai Ulang';
                
                // Start timer
                clearInterval(timer);
                timer = setInterval(() => {
                    timeLeft--;
                    timerElement.textContent = timeLeft;
                    
                    // Update progress bar
                    const percentage = (timeLeft / 30) * 100;
                    progressBar.style.width = `${percentage}%`;
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
                
                nextQuestion();
            }
            
            function endGame() {
                gameActive = false;
                clearInterval(timer);
                
                // Update game over modal
                finalScoreElement.textContent = score;
                finalLevelElement.textContent = currentLevel;
                correctAnswersElement.textContent = correctAnswers;
                wrongAnswersElement.textContent = wrongAnswers;
                
                // Show game over modal
                gameOverModal.classList.remove('hidden');
            }
            
            // Event listeners
            startBtn.addEventListener('click', startGame);
            
            helpBtn.addEventListener('click', () => {
                helpModal.classList.remove('hidden');
            });
            
            closeHelpBtn.addEventListener('click', () => {
                helpModal.classList.add('hidden');
            });
            
            playAgainBtn.addEventListener('click', () => {
                gameOverModal.classList.add('hidden');
                startGame();
            });
            
            shareScoreBtn.addEventListener('click', () => {
                alert(`Skor saya di CyberGeometry: ${score} poin di Level ${currentLevel}! Coba kalahkan skor saya!`);
            });
            
            continueGameBtn.addEventListener('click', () => {
                levelUpModal.classList.add('hidden');
                
                // Resume timer
                timer = setInterval(() => {
                    timeLeft--;
                    timerElement.textContent = timeLeft;
                    
                    // Update progress bar
                    const percentage = (timeLeft / 30) * 100;
                    progressBar.style.width = `${percentage}%`;
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
                
                nextQuestion();
            });
        });
    </script>
</body>
</html>
